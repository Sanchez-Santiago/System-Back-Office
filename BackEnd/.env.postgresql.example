# =====================================================
# VARIABLES DE ENTORNO PARA MIGRACIÓN A POSTGRESQL/SUPABASE
# System-Back-Office
# =====================================================

# =====================================================
# CONFIGURACIÓN DE SUPABASE (RECOMENDADO)
# =====================================================
# URL de tu proyecto Supabase
SUPABASE_URL=https://your-project.supabase.co

# Service Role Key (acceso completo a la base de datos)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Opcional: Anon Key para acceso público
SUPABASE_ANON_KEY=your-anon-key-here

# =====================================================
# CONFIGURACIÓN POSTGRESQL DIRECTA (FALLBACK)
# =====================================================
# Host de la base de datos PostgreSQL
POSTGRES_HOST=aws-0-region.pooler.supabase.com

# Puerto de PostgreSQL (generalmente 5432 o 6543 para pooler)
POSTGRES_PORT=6543

# Nombre de la base de datos
POSTGRES_DB=postgres

# Usuario de la base de datos
POSTGRES_USER=postgres

# Contraseña de la base de datos
POSTGRES_PASSWORD=your-postgres-password-here

# URI completa (opcional)
# POSTGRES_URI=postgresql://postgres:password@host:6543/postgres

# =====================================================
# CONFIGURACIÓN MYSQL ACTUAL (MANTENER TEMPORALMENTE)
# =====================================================
# Variables MySQL existentes - mantener para rollback
# DB_HOST=mysql-host
# DB_USER=mysql-user
# DB_PASSWORD=mysql-password
# DB_NAME=BO_System
# DB_PORT=3306

# Clever Cloud variables (si aplica)
# MYSQL_ADDON_HOST=mysql-host
# MYSQL_ADDON_USER=mysql-user
# MYSQL_ADDON_PASSWORD=mysql-password
# MYSQL_ADDON_DB=BO_System
# MYSQL_ADDON_PORT=3306

# =====================================================
# CONFIGURACIÓN GENERAL DE LA APLICACIÓN
# =====================================================

# Puerto del servidor web
PORT=8000

# Modo de ejecución: development, production, staging
MODO=development

# Secreto para JWT
JWT_SECRET=your-super-secret-jwt-key-here

# Configuración de CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS (PRUEBAS)
# =====================================================

# Habilitar pruebas de conexión al inicio
DB_CONNECTION_TEST_ENABLED=true

# Timeout para pruebas de conexión (milisegundos)
DB_CONNECTION_TIMEOUT=10000

# Número de intentos de reintentos
DB_CONNECTION_RETRIES=3

# Delay entre reintentos (milisegundos)
DB_CONNECTION_RETRY_DELAY=2000

# Detener aplicación si falla la conexión
DB_CONNECTION_FAIL_FAST=true

# Verificar tablas críticas al inicio
DB_CHECK_CRITICAL_TABLES=true

# =====================================================
# CONFIGURACIÓN DE MIGRACIÓN
# =====================================================

# Habilitar modo migración
MIGRATION_ENABLED=false

# Path de scripts de migración
MIGRATIONS_PATH=./SQL/PostgreSQL

# Usar Supabase para migración (recomendado)
MIGRATION_USE_SUPABASE=true

# =====================================================
# CONFIGURACIÓN DE LOGGING
# =====================================================

# Nivel de log: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# Formato de log: json, text
LOG_FORMAT=text

# Habilitar logging de consultas SQL
SQL_LOGGING=false

# =====================================================
# CONFIGURACIÓN DE MONITOREO
# =====================================================

# Habilitar health checks detallados
HEALTH_CHECK_ENABLED=true

# Intervalo de health check (segundos)
HEALTH_CHECK_INTERVAL=30

# Timeout para health checks (milisegundos)
HEALTH_CHECK_TIMEOUT=5000

# =====================================================
# CONFIGURACIÓN DE SEGURIDAD
# =====================================================

# Número máximo de intentos de login permitidos
MAX_LOGIN_ATTEMPTS=5

# Tiempo de bloqueo después de intentos fallidos (minutos)
ACCOUNT_LOCKOUT_DURATION=15

# Duración del token JWT (minutos)
JWT_EXPIRATION_MINUTES=60

# Duración del token de refresh JWT (días)
JWT_REFRESH_EXPIRATION_DAYS=7

# =====================================================
# CONFIGURACIÓN DE PERFORMANCE
# =====================================================

# Tamaño máximo del pool de conexiones PostgreSQL
DB_POOL_MAX_CONNECTIONS=10

# Tiempo de espera de conexión inactiva (milisegundos)
DB_POOL_IDLE_TIMEOUT=30000

# Tiempo de timeout de conexión (milisegundos)
DB_CONNECTION_TIMEOUT_MS=10000

# =====================================================
# VARIABLES DE ENTORNO ESPECÍFICAS POR AMBIENTE
# =====================================================

# Desarrollo local
# .env.development

# Staging
# .env.staging

# Producción
# .env.production

# =====================================================
# INSTRUCCIONES DE USO:
# =====================================================
# 
# 1. Copiar este archivo a .env
#    cp .env.postgresql.example .env
#
# 2. Configurar las credenciales de Supabase:
#    - Obtener SUPABASE_URL desde el dashboard de Supabase
#    - Obtener SUPABASE_SERVICE_ROLE_KEY desde Settings > API
#
# 3. O configurar PostgreSQL directo:
#    - Usar las credenciales proporcionadas por Supabase
#    - Host: aws-0-xxxx.pooler.supabase.com
#    - Port: 6543 (pooler) o 5432 (directo)
#
# 4. Configurar JWT_SECRET con una cadena segura
#
# 5. Ajustar otras variables según sea necesario
#
# =====================================================